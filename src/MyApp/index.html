<script src="https://raw2.github.com/cujojs/when/master/when.js"></script>
<script src="http://autobahn.s3.amazonaws.com/js/autobahn.min.js"></script>
<script>
    var conn = new ab.Session(
        // The host (our Ratchet WebSocket server) to connect to
        'ws://localhost:8080', function() {            // Once the connection has been established
            conn.subscribe('kittensCategory', function(topic, data) {
                // This is where you would add the new article to the DOM (beyond the scope of this tutorial)
                console.log('New article published to category "' + topic + '" : ' + data.title);
            });
        // When the connection is closed    
        }, function() {
            console.warn('WebSocket connection closed');
        },
        // Additional parameters, we're ignoring the WAMP sub-protocol for older browsers
        {                       
            'skipSubprotocolCheck': true
        }
    );
</script>